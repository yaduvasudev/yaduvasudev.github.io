<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Yadu Vasudev - CS4700 Advanced Data Structures</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/quarto-listing/list.min.js"></script>
<script src="../../../site_libs/quarto-listing/quarto-listing.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../../site_libs/quarto-contrib/bootstrap-icons-1.11.1/all.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script>

  window.document.addEventListener("DOMContentLoaded", function (_event) {
    const listingTargetEl = window.document.querySelector('#listing-lectures .list');
    if (!listingTargetEl) {
      // No listing discovered, do not attach.
      return; 
    }

    const options = {
      valueNames: ['listing-day','listing-contents','listing-slides','listing-notes','listing-references','listing-misc','listing-tutorial','listing-miniquiz',{ data: ['index'] },{ data: ['categories'] }],
      
      searchColumns: ["listing-day","listing-contents","listing-slides","listing-notes","listing-references","listing-misc","listing-tutorial","listing-miniquiz"],
    };

    window['quarto-listings'] = window['quarto-listings'] || {};
    window['quarto-listings']['listing-lectures'] = new List('listing-lectures', options);

    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  });

  window.addEventListener('hashchange',() => {
    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  })
  </script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MN1T4J4SRB"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MN1T4J4SRB', { 'anonymize_ip': true});
</script>
<style>
.panel-tabset > .nav-tabs,
.panel-tabset > .tab-content{
  border:none;
}

.nav-pills .nav-item{
  margin-left: 5px;
  margin-right: 5px;
}

.nav-pills .nav-link {
  background-color: #ccf7f1;
  border-radius: 3px;
}

.nav-pills .nav-link.active{
  background-color: #ffdd00;
  color: #1c1c1c;
  border-radius: 3px;
}

.nav-pills .nav-link:hover {
  text-decoration: underline dotted;
  color: #0F096A;
}

</style>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Yadu Vasudev</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-research" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Research</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-research">    
        <li>
    <a class="dropdown-item" href="../../../research.html" rel="" target="">
 <span class="dropdown-text">Publications</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../people.html" rel="" target="">
 <span class="dropdown-text">People</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../courses.html" rel="" target="">
 <span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../contact.html" rel="" target="">
 <span class="menu-text">Contact</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">CS4700 Advanced Data Structures</h1>
<p class="subtitle lead">Jan - May 2026</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="nav-pills">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">home</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">contents</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">administrivia</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">lectures</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="grid">
<div class="g-col-6">
<section id="bi-compass-color40cb2d-coordinates" class="level3">
<h3 class="anchored" data-anchor-id="bi-compass-color40cb2d-coordinates"><i class="bi-compass " style="color: #40CB2D;" role="img" aria-hidden="true"></i> Coordinates</h3>
<ul>
<li><strong>Where</strong>: SSB 134</li>
<li><strong>When</strong>: G slot - Mon (12 pm), Wed (5 pm), Thu (10 am), Fri (9 am)</li>
</ul>
</section>
<section id="bi-person-fill-color40cb2d-course-staff" class="level3">
<h3 class="anchored" data-anchor-id="bi-person-fill-color40cb2d-course-staff"><i class="bi-person-fill " style="color: #40CB2D;" role="img" aria-hidden="true"></i> Course staff</h3>
<ul>
<li><strong>Instructor</strong>: <a href="https://yaduvasudev.github.io/">Yadu Vasudev</a> (yadu@cse.iitm.ac.in)</li>
<li><strong>TAs</strong>:
<ul>
<li>Aditya (cs25m007@smail, <strong>Office hours: Tue 4.45 - 5.45 PM, CS 32</strong>)</li>
<li>Alan (cs24m006@smail, <strong>Office hours: Thu 2 - 3 PM, CS 36</strong>)</li>
<li>Chetan (cs25s022@smail, <strong>Office hours: Fri 2 - 3 PM, SSB 324</strong>)</li>
<li>Neha (cs21d408@smail, <strong>Office hours: Tue 5 - 6 PM, SSB 322</strong>)</li>
<li>Shivam (cs25m048@smail <strong>Office hours: Thu 5 - 6 PM, CS 32</strong>)</li>
</ul></li>
</ul>
</section>
</div>
<section id="bi-link-45deg-color40cb2d-important-links" class="level3 g-col-6">
<h3 class="anchored" data-anchor-id="bi-link-45deg-color40cb2d-important-links"><i class="bi-link-45deg " style="color: #40CB2D;" role="img" aria-hidden="true"></i> Important links</h3>
<ul>
<li><a href="https://courses.iitm.ac.in/course/view.php?id=11117">Moodle</a></li>
<li><a href="https://edstem.org/us/courses/91442/discussion">Ed Discussions</a><br>
Join using your smail/iitm ids via <a href="https://edstem.org/us/join/xtCSfa">this link</a></li>
<li><a href="https://forms.gle/q7fLYEMwryHJ3pt7A">Anonymous course feedback</a></li>
</ul>
</section>
</div>
<hr>
<div class="grid">
<section id="bi-calendar-month-color40cb2d-course-calendar" class="level3 g-col-12">
<h3 class="anchored" data-anchor-id="bi-calendar-month-color40cb2d-course-calendar"><i class="bi-calendar-month " style="color: #40CB2D;" role="img" aria-hidden="true"></i> Course calendar</h3>
<iframe src="https://calendar.google.com/calendar/embed?height=600&amp;wkst=2&amp;ctz=Asia%2FKolkata&amp;showPrint=0&amp;mode=WEEK&amp;src=Y180NjUwN2FhOThiMWMxOWI4ZTRiYzY3NTg3OGU1ZmZmNjhhYjgwYmU2N2NmODJhOWQzNTcwOTBjNTQ2MzE3M2ZlQGdyb3VwLmNhbGVuZGFyLmdvb2dsZS5jb20&amp;color=%23c0ca33" style="border:solid 1px #777" width="1100" height="600" frameborder="0" scrolling="no">
</iframe>
</section>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="grid">
<div class="g-col-10">
<section id="bi-body-text-color40cb2d-about-this-course" class="level4">
<h4 class="anchored" data-anchor-id="bi-body-text-color40cb2d-about-this-course"><i class="bi-body-text " style="color: #40CB2D;" role="img" aria-hidden="true"></i> About this course</h4>
<p>This is a second course in data structures, and builds on the material covered in CS2700 (Programming and data structures). We will look at the design of various data structures for dictionaries, priority queues, dynamic graphs, and range queries . There will be an emphasis on understanding the design principles for various data structures, and a rigorous analysis of their complexity. At the end of the course, the student is expected to know the design and analysis of a variety of advanced data structures, and be able to design new data structures for specific applications.</p>
<p><strong>Prerequisites</strong> - Programming and data structures (CS2700) or an equivalent course is a prerequisite for this course. A course in algorithm design and analysis would be useful, but not necessary. Programming experience is not necessary, but is recommended.</p>
<hr>
</section>
<section id="bi-card-list-color40cb2d-course-contents" class="level4">
<h4 class="anchored" data-anchor-id="bi-card-list-color40cb2d-course-contents"><i class="bi-card-list " style="color: #40CB2D;" role="img" aria-hidden="true"></i> Course contents</h4>
<p>The following are the broad topics that will be covered in this course.</p>
<ul>
<li><strong>Recall of algorithm analysis</strong> - Asymptotic notation, amortized analysis, basics of probablistic analysis.</li>
<li><strong>Dictionaries</strong> - Hash tables, skip lists, balanced search trees, tries</li>
<li><strong>Priority queues</strong> - Recall of binary heaps, min-max heaps, mergable heaps - binomial and Fibonacci heaps</li>
<li><strong>Geometric data structures</strong> - Range queries and searching, kd-trees, segment trees</li>
<li><strong>Dynamic graphs</strong> - Link-cut trees, Euler-tour trees, heavy-light decomposition, dynamic connectivity</li>
<li><strong>Persistent data structures</strong> - Partial and fully persistent data structures for lists, trees, heaps</li>
</ul>
<hr>
</section>
<section id="bi-book-fill-color40cb2d-course-resources" class="level4">
<h4 class="anchored" data-anchor-id="bi-book-fill-color40cb2d-course-resources"><i class="bi-book-fill " style="color: #40CB2D;" role="img" aria-hidden="true"></i> Course resources</h4>
<p>There is no single textbook for the course. The following two books contain some of the material that will be covered in the course, especially the first half.</p>
<ol type="1">
<li><strong><a href="https://opendatastructures.org/">Open Data Structures</a></strong> by Pat Morin</li>
<li><strong>Introduction to Algorithms</strong> by Cormen, Leiserson, Rivest, and Stein</li>
</ol>
<p>Apart from this, there are a lot of resources available online. We may refer to them occasionally.</p>
</section>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="grid">
<div class="g-col-10">
<section id="bi-clock-fill-color40cb2d-weekly-schedule" class="level4">
<h4 class="anchored" data-anchor-id="bi-clock-fill-color40cb2d-weekly-schedule"><i class="bi-clock-fill " style="color: #40CB2D;" role="img" aria-hidden="true"></i> Weekly schedule</h4>
<p>There are four lecture slots per week. We will convert some of them into tutorial sessions and short exams. The tentative schedule is given below. You are welcome to use the course discussion forum to clarify doubts with the instructor and the TAs.</p>
<hr>
</section>
<section id="bi-percent-color40cb2d-grading-policy-tentative" class="level4">
<h4 class="anchored" data-anchor-id="bi-percent-color40cb2d-grading-policy-tentative"><i class="bi-percent " style="color: #40CB2D;" role="img" aria-hidden="true"></i> Grading policy (tentative)</h4>
<ul>
<li>Assignments: 2*10 = 20%</li>
<li>Short exams: 2*10 = 20%</li>
<li>Quizzes: 2*15 = 30%</li>
<li>End-semester exam = 30%</li>
</ul>
<hr>
</section>
<section id="bi-calendar-fill-color40cb2d-important-dates-tentative" class="level4">
<h4 class="anchored" data-anchor-id="bi-calendar-fill-color40cb2d-important-dates-tentative"><i class="bi-calendar-fill " style="color: #40CB2D;" role="img" aria-hidden="true"></i> Important dates (tentative)</h4>
<ul>
<li>Assignment (deadlines): Mar 9, Apr 27</li>
<li>Short exams: Feb 11, Apr 15</li>
<li>Quizzes (according to institute calendar): Feb 25, Mar 27</li>
<li>End-semester (according to institute calendar): May 14</li>
</ul>
<hr>
</section>
<section id="bi-chat-dots-fill-color40cb2d-communication" class="level4">
<h4 class="anchored" data-anchor-id="bi-chat-dots-fill-color40cb2d-communication"><i class="bi-chat-dots-fill " style="color: #40CB2D;" role="img" aria-hidden="true"></i> Communication</h4>
<p>Please sign up on the course discussion forum <a href="https://edstem.org/us/join/xtCSfa">here</a>. This will be the first point of contact for any issues related to the course. For general questions related to the course (any comments/doubts), please create a thread in the correct category and add your question/comment there. You are encouraged to reply and clear the doubts of your friends. To encourage this interaction, <strong>the forum supports anonymous posts and answers</strong>. <strong>Please be courteous to others when you are posting anonymously</strong>.</p>
</section>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div id="listing-lectures" class="quarto-listing quarto-listing-container-custom">

<table class="lectures">
  <thead>
    <tr><th style="width:12%">Date</th>
    <th style="width:40%">Lecture</th>
    <th style="width:30%">References</th>
    <th style="width:18%">Misc</th>
  </tr></thead>
  <tbody class="list">
    <tr bgcolor="#EAECEE">
      <td> <b>Lecture #1</b> <br>
        Mon 19/01
      </td>
      <td>
        Introduction to the course • Admin and logistic details <br>
      </td>
      <td>
      </td>
      <td>
        Sign up on <a href="https://edstem.org/us/join/xtCSfa">Ed Discussions</a>
      </td>
    </tr>
    <tr bgcolor="#EAECEE">
      <td> <b>Lecture #2</b> <br>
        Wed 21/01
      </td>
      <td>
        Dynamic arrays - Insert operations and amortized analysis <br>
      </td>
      <td>
        <ul class="tight">
          <li>Section 17.4.1 - CLRS</li>
        </ul>
        <ul class="tight">
          <li>Section 1.1 - Course notes</li>
        </ul>
      </td>
      <td>
      </td>
    </tr>
    <tr bgcolor="#EAECEE">
      <td> <b>Lecture #3</b> <br>
        Thu 22/01
      </td>
      <td>
        Dynamic arrays with insertions and deletions - amortized analysis <br>
      </td>
      <td>
        <ul class="tight">
          <li>Section 17.4.2 - CLRS</li>
        </ul>
        <ul class="tight">
          <li>Section 1.1 - Course notes</li>
        </ul>
      </td>
      <td>
      </td>
    </tr>
    <tr bgcolor="#EAECEE">
      <td> <b>Lecture #4</b> <br>
        Fri 23/01
      </td>
      <td>
        Dictionary ADT - hash tables • Random hash functions and their properties <br>
      </td>
      <td>
        <ul class="tight">
          <li>Section 3.1.1 - Course notes</li>
        </ul>
      </td>
      <td>
      </td>
    </tr>
    <tr bgcolor="#EAECEE">
      <td> <b>Lecture #5</b> <br>
        Wed 28/01
      </td>
      <td>
        Universal hashing - properties, examples <br>
      </td>
      <td>
        <ul class="tight">
          <li>Section 3.1.2, 3.1.3 - Course notes</li>
        </ul>
      </td>
      <td>
        Problem set 1 released on Ed
      </td>
    </tr>
    <tr bgcolor="#EAECEE">
      <td> <b>Lecture #6</b> <br>
        Thu 29/01
      </td>
      <td>
        Universal hashing - examples • Static dictionaries - FKS hashing <br>
      </td>
      <td>
        <ul class="tight">
          <li>Section 3.1.3, 3.1.4 - Course notes</li>
        </ul>
      </td>
      <td>
      </td>
    </tr>
    <tr bgcolor="#EAECEE">
      <td> <b>Lecture #7</b> <br>
        Fri 30/01
      </td>
      <td>
        Static dictionaries - FKS hashing • Bloom filters • Open addressing with linear probing <br>
      </td>
      <td>
        <ul class="tight">
          <li>Section 3.1.4, 3.1.5 - Course notes</li>
        </ul>
      </td>
      <td>
      </td>
    </tr>
    <tr bgcolor="#EAECEE">
      <td> <b>Lecture #8</b> <br>
        Mon 02/02
      </td>
      <td>
        Open addressing with linear probing - analysis • Skip lists - searches, insertions and deletions <br>
      </td>
      <td>
        <ul class="tight">
          <li>Section 3.1.5, 3.2 - Course notes</li>
        </ul>
        <ul class="tight">
          <li>Section 5.2, 4.1 - <a href="https://opendatastructures.org/ods-python.pdf">Morin</a></li>
        </ul>
      </td>
      <td>
      </td>
    </tr>
    <tr bgcolor="#EAECEE">
      <td> <b>Lecture #9</b> <br>
        Wed 04/02
      </td>
      <td>
        Skip lists - implementation and analysis <br>
      </td>
      <td>
        <ul class="tight">
          <li>Section 3.2 - Course notes</li>
        </ul>
        <ul class="tight">
          <li>Section 4.4 - <a href="https://opendatastructures.org/ods-python.pdf">Morin</a></li>
        </ul>
      </td>
      <td>
      </td>
    </tr>
    <tr bgcolor="#EAECEE">
      <td> <b>Lecture #10</b> <br>
        Thu 05/02
      </td>
      <td>
        Binary search trees - representation, algorithms, notion of balanced trees • AVL trees <br>
      </td>
      <td>
        <ul class="tight">
          <li>Section 3.3.1 - Course notes</li>
        </ul>
      </td>
      <td>
        Problem set 2 released on Ed
      </td>
    </tr>
    <tr bgcolor="#BDF9C4">
      <td>
        <b>Tutorial #1</b><br>
        Mon 09/02
      </td>
      <td>
        Based on Problem sets 1 and 2
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr bgcolor="#FCDAD0">
      <td>
        <b>Test #1</b><br>
        Wed 11/02
      </td>
      <td>
        Based on Lectures 1 to 9 (Problem sets 1 and 2)
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr bgcolor="#EAECEE">
      <td> <b>Lecture #11</b> <br>
        Thu 12/02
      </td>
      <td>
        AVL trees - insertion, examples, implementation details <br>
      </td>
      <td>
        <ul class="tight">
          <li>Section 3.3.2 - Course notes</li>
        </ul>
      </td>
      <td>
      </td>
    </tr>
    <tr bgcolor="#EAECEE">
      <td> <b>Lecture #12</b> <br>
        Fri 13/02
      </td>
      <td>
        AVL trees - deletions, examples • Scapegoat trees <br>
      </td>
      <td>
        <ul class="tight">
          <li>Section 3.3.2, 3.3.3 - Course notes</li>
        </ul>
      </td>
      <td>
      </td>
    </tr>
    <tr bgcolor="#EAECEE">
      <td> <b>Lecture #13</b> <br>
        Mon 16/02
      </td>
      <td>
        Scapegoat trees - properties and analysis • Optimal BSTs and introduction to splay trees <br>
      </td>
      <td>
        <ul class="tight">
          <li>Section 3.3.3 - Course notes</li>
        </ul>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>
<div class="listing-no-matching d-none">
No matching items
</div>
</div>
</div>
</div>
</div>
</div>




</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>